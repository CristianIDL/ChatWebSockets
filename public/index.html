<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Chat WebSockets</title>
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
      <script>
          $(document).ready(function(){
              $("#myModal").modal('show');
          });
      </script>
      
  </head>
  <body>
 <!-- The Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <div class="header_modal">Ingresa tu usuario</div>
    <span class="close">&times;</span>
    <input type="text" class="usuario" id="usuario" placeholder="Usuario" required>
        <button class="botonEnvioPriero"  id="enviarusuario">
            Enviar
        </button>
  </div>

</div>

    <div class="contenido_top">
      <div class="header">Chat con WebSockets :D</div>
    </div>
    
    <div class="contenido">
        <div class="mensajes">
          <div class="chat" id="salida">
            
          </div>
          
          <div class="avisos" id="avisos">
            <!--AquÃ­ salen los mensajes enviados por el chat-->
          </div>
        </div>
      </div>
      
    </div>
    <div class="contenido_bot">
      <div class="options">
        <!--
      <input type="text" class="usuario" id="usuario" placeholder="Usuario" required>
      <br>-->
      <input type="text" class="mensaje" id="mensaje" placeholder="Mensaje">
        <button class="botonEnvio"  id="enviar">
            Enviar
        </button>
      </div>
    </div>
    
    <script>
      // Get the modal
      var modal = document.getElementById("myModal");
      
      // Get the button that opens the modal
      var btn = document.getElementById("enviarusuario");
      
      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];
      
      // When the user clicks the button, open the modal 
      btn.onclick = function() {
        if (usuario.value === '') {
        console.log('jarvis llama a dios')
        alert('Se requiere un usuario para poder ingresar al chat');
      } else {
        modal.style.display = "none";
      }
      }
      
      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
        alert('Se requiere un usuario y un mensaje para poder ingresar al chat');
      }
      
      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "block";
        }
      }

      
      </script>
    <script src="js/socket.io.js"></script>
    <script src="js/logica.js" charset="utf-8"></script>
  </body>
</html>

<!--
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Ingresa tu usuario</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div class="contenido">
      <div class="container">
        <div class="header">Chat</div>
          <input type="text" class="usuario" id="usuario" placeholder="Usuario" required >
          <br><br>
          <button class="btnenviar" id="btnenviar" onclick="validar()">Ingresar Usuario</button>
      </div>
    </div>
    <script src="js/ingresar.js"></script>
    <script src="js/socket.io.js"></script>
  </body>
</html>
-->